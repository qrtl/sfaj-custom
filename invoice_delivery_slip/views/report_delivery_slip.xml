<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <template
        id="report_invoice_document_inherit"
        inherit_id="account.report_invoice_document"
    >
        <xpath expr="//div[contains(@class, 'page')]" position="before">
            <t
                t-set="is_delivery_slip"
                t-value="o.env.context.get('is_delivery_slip')"
            />
        </xpath>
        <xpath
            expr="//span[contains(@t-if, 'o.move_type') and contains(@t-if, 'out_invoice') and contains(@t-if, 'state') and contains(@t-if, 'posted') and contains(text(), 'Invoice')]"
            position="attributes"
        >
            <attribute name="style">display: none;</attribute>
        </xpath>
        <xpath
            expr="//span[contains(@t-if, 'o.move_type') and contains(@t-if, 'out_invoice') and contains(@t-if, 'state') and contains(@t-if, 'posted') and contains(text(), 'Invoice')]"
            position="after"
        >
            <span t-if="o.move_type == 'out_invoice' and o.state == 'posted'">
                <t t-if="is_delivery_slip">Delivery</t>
                <t t-else="">Invoice</t>
            </span>
        </xpath>
        <xpath
            expr="//span[contains(@t-if, 'o.move_type') and contains(@t-if, 'out_invoice') and contains(@t-if, 'state') and contains(@t-if, 'draft') and contains(text(), 'Draft Invoice')]"
            position="attributes"
        >
            <attribute name="style">display: none;</attribute>
        </xpath>
        <xpath
            expr="//span[contains(@t-if, 'o.move_type') and contains(@t-if, 'out_invoice') and contains(@t-if, 'state') and contains(@t-if, 'draft') and contains(text(), 'Draft Invoice')]"
            position="after"
        >
            <span t-if="o.move_type == 'out_invoice' and o.state == 'draft'">
                <t t-if="is_delivery_slip">Draft Delivery</t>
                <t t-else="">Draft Invoice</t>
            </span>
        </xpath>
        <xpath
            expr="//span[contains(@t-if, 'o.move_type') and contains(@t-if, 'out_invoice') and contains(@t-if, 'state') and contains(@t-if, 'cancel') and contains(text(), 'Cancelled Invoice')]"
            position="attributes"
        >
            <attribute name="style">display: none;</attribute>
        </xpath>
        <xpath
            expr="//span[contains(@t-if, 'o.move_type') and contains(@t-if, 'out_invoice') and contains(@t-if, 'state') and contains(@t-if, 'cancel') and contains(text(), 'Cancelled Invoice')]"
            position="after"
        >
            <span t-if="o.move_type == 'out_invoice' and o.state == 'cancel'">
                <t t-if="is_delivery_slip">Cancelled Delivery</t>
                <t t-else="">Cancelled Invoice</t>
            </span>
        </xpath>
        <xpath expr="//strong[contains(text(), 'Invoice Date:')]" position="attributes">
            <attribute name="style">display: none;</attribute>
        </xpath>

        <xpath expr="//strong[contains(text(), 'Invoice Date:')]" position="after">
            <t t-if="o.move_type == 'out_invoice'">
                <strong>
                    <t t-if="is_delivery_slip">Delivery Date:</t>
                    <t t-else="">Invoice Date:</t>
                </strong>
            </t>
        </xpath>
        <xpath expr="//div[@name='due_date']" position="attributes">
            <attribute name="style">display: none;</attribute>
        </xpath>

    </template>
    <template id="report_invoice_delivery_slip">
        <t t-call="web.html_container">
            <t t-set="docs" t-value="docs.with_context(is_delivery_slip=True)" />
            <t t-foreach="docs" t-as="o">
                <t t-set="lang" t-value="o.partner_id.lang" />
                <t t-set="print_with_payments" t-value="True" />
                <t
                    t-if="o._get_name_invoice_report() == 'account.report_invoice_document'"
                    t-call="account.report_invoice_document"
                    t-lang="lang"
                />
            </t>
        </t>
    </template>
</odoo>
